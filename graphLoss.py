import re
import matplotlib.pyplot as plt

#questo po essere sostituito dalla lettura di un file
log_data = {0: 194993.140625, 1: 154591.359375, 2: 95798.3125, 3: 101069.4375, 4: 79542.75, 5: 90154.125, 6: 85114.375, 7: 68676.875, 8: 67767.625, 9: 63241.1875, 10: 81887.1875, 11: 57426.25, 12: 76571.125, 13: 65441.625, 14: 62957.75, 15: 69526.0, 16: 67931.75, 17: 58725.125, 18: 55825.625, 19: 54386.0, 20: 45789.0, 21: 44368.125, 22: 49534.5, 23: 28586.75, 24: 40488.625, 25: 40810.625, 26: 46261.375, 27: 38616.5, 28: 43397.875, 29: 36669.75, 30: 36089.5, 31: 33129.0, 32: 27691.0, 33: 37816.0, 34: 31479.5, 35: 35901.5, 36: 31681.75, 37: 35221.25, 38: 34273.75, 39: 28639.0, 40: 32758.5, 41: 28117.25, 42: 33269.75, 43: 32805.0, 44: 22176.75, 45: 30964.5, 46: 30129.5, 47: 30825.5, 48: 30913.75, 49: 30389.5, 50: 24524.5, 51: 29018.75, 52: 28778.0, 53: 28806.25, 54: 28672.0, 55: 28290.5, 56: 24293.75, 57: 20433.75, 58: 26833.5, 59: 27158.75, 60: 19892.75, 61: 26188.5, 62: 22969.25, 63: 33722.0, 64: 25919.5, 65: 25939.75, 66: 25139.25, 67: 29230.25, 68: 21569.0, 69: 18000.5, 70: 21514.25, 71: 21571.75, 72: 21584.5, 73: 20921.25, 74: 21011.75, 75: 20981.0, 76: 20021.75, 77: 20084.75, 78: 27973.75, 79: 20683.75, 80: 22293.5, 81: 23359.25, 82: 20183.75, 83: 20141.0, 84: 23048.0, 85: 23780.0, 86: 22843.5, 87: 26211.25, 88: 19940.5, 89: 16523.5, 90: 22958.25, 91: 16526.0, 92: 16274.75, 93: 22755.5, 94: 19543.5, 95: 22262.0, 96: 19131.75, 97: 20163.25, 98: 19319.25, 99: 22104.0}
#pattern = r"(\d+): ([\d.,]+)"
#matches = re.findall(pattern, log_data)

epochs = list(log_data.keys())
losses = list(log_data.values())

# Creazione del grafico
fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(epochs, losses, marker='o', linestyle='-', color='b')

# Aggiungi etichette e titolo
fig.suptitle(r'Loss function per $\alpha = 0.1$', fontsize=14, fontweight='bold') # Titolo con la lettera greca alpha
ax.grid(True)

# Imposta i tick sull'asse X ogni 10 epoche
ax.set_xticks(range(0, 101, 10))  # Mostra solo i numeri da 0 a 100 con step di 10

# Imposta le etichette degli assi
ax.set_xlabel('EPOCHS')  # Etichetta asse X
ax.set_ylabel('LOSS')    # Etichetta asse Y
#plt.show()
plt.savefig('figures/w2v_loss_plot2.png')