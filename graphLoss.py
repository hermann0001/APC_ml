import re
import matplotlib.pyplot as plt

#questo po essere sostituito dalla lettura di un file
log_data = {6: 297728.0, 7: 269064.25, 8: 253106.5, 9: 243185.5, 10: 226042.25, 11: 208335.75, 12: 187699.0, 13: 172928.0, 14: 162446.0, 15: 153477.5, 16: 147570.0, 17: 139605.0, 18: 136538.0, 19: 127802.5, 20: 123432.5, 21: 122979.5, 22: 116658.5, 23: 113151.5, 24: 113495.5, 25: 111186.5, 26: 105248.5, 27: 104101.5, 28: 104390.0, 29: 100749.0, 30: 100181.5, 31: 101468.0, 32: 101715.0, 33: 96432.5, 34: 95477.5, 35: 95132.5, 36: 95497.5, 37: 94511.5, 38: 92252.0, 39: 93158.0, 40: 90766.5, 41: 89124.0, 42: 92074.5, 43: 87985.0, 44: 88363.5, 45: 90808.0, 46: 83716.0, 47: 88343.0, 48: 84009.0, 49: 80564.0, 50: 81055.0, 51: 79885.0, 52: 79594.0, 53: 79289.0, 54: 82119.0, 55: 78794.0, 56: 78000.0, 57: 78190.0, 58: 78539.0, 59: 79567.0, 60: 79670.0, 61: 76944.0, 62: 76404.0, 63: 76933.0, 64: 77010.0, 65: 76624.0, 66: 76279.0, 67: 74510.0, 68: 73558.0, 69: 72925.0, 70: 76494.0, 71: 76632.0, 72: 74234.0, 73: 73730.0, 74: 72434.0, 75: 78521.0, 76: 72056.0, 77: 70121.0, 78: 67490.0, 79: 73873.0, 80: 70889.0, 81: 73173.0, 82: 70828.0, 83: 68114.0, 84: 71335.0, 85: 68454.0, 86: 71224.0, 87: 68377.0, 88: 69939.0, 89: 67366.0, 90: 67968.0, 91: 67998.0, 92: 69040.0, 93: 67008.0, 94: 66544.0, 95: 66074.0, 96: 64294.0, 97: 65782.0, 98: 64259.0, 99: 64200.0, 100: 66451.0, 101: 64021.0, 102: 63465.0, 103: 64122.0, 104: 64539.0, 105: 61177.0, 106: 62673.0, 107: 63725.0, 108: 61459.0, 109: 61835.0, 110: 60793.0, 111: 63600.0, 112: 60697.0, 113: 61420.0, 114: 60571.0, 115: 57855.0, 116: 59479.0, 117: 59638.0, 118: 59441.0, 119: 59665.0, 120: 58103.0, 121: 59258.0, 122: 58431.0, 123: 59141.0, 124: 58595.0, 125: 57285.0, 126: 56368.0, 127: 58283.0, 128: 55891.0, 129: 55322.0, 130: 56667.0, 131: 57455.0, 132: 54901.0, 133: 56413.0, 134: 56673.0, 135: 53525.0, 136: 52936.0, 137: 56269.0, 138: 56467.0, 139: 53336.0, 140: 54279.0, 141: 54852.0, 142: 53852.0, 143: 53509.0, 144: 51812.0, 145: 53143.0, 146: 54019.0, 147: 52416.0, 148: 52996.0, 149: 51468.0, 150: 51236.0, 151: 50297.0, 152: 51306.0, 153: 52131.0, 154: 51323.0, 155: 51207.0, 156: 50006.0, 157: 51393.0, 158: 50292.0, 159: 50127.0, 160: 49709.0, 161: 48694.0, 162: 49052.0, 163: 48886.0, 164: 48311.0, 165: 48428.0, 166: 49024.0, 167: 48499.0, 168: 46559.0, 169: 48197.0, 170: 48188.0, 171: 48004.0, 172: 47631.0, 173: 46955.0, 174: 47002.0, 175: 46501.0, 176: 46509.0, 177: 45874.0, 178: 47416.0, 179: 47162.0, 180: 45395.0, 181: 45059.0, 182: 45957.0, 183: 44894.0, 184: 44769.0, 185: 43142.0, 186: 42482.0, 187: 41934.0, 188: 42406.0, 189: 42648.0, 190: 40742.0, 191: 42748.0, 192: 43246.0, 193: 43094.0, 194: 41218.0, 195: 39758.0, 196: 41780.0, 197: 41384.0, 198: 42136.0, 199: 41934.0, 200: 41184.0, 201: 40248.0, 202: 41320.0, 203: 39320.0, 204: 39952.0, 205: 41076.0, 206: 40824.0, 207: 40158.0, 208: 39036.0, 209: 38388.0, 210: 38444.0, 211: 39310.0, 212: 39172.0, 213: 38942.0, 214: 39318.0, 215: 40108.0, 216: 38914.0, 217: 39158.0, 218: 37342.0, 219: 37862.0, 220: 37788.0, 221: 38266.0, 222: 37706.0, 223: 37674.0, 224: 36738.0, 225: 38024.0, 226: 38206.0, 227: 37972.0, 228: 36426.0, 229: 37976.0, 230: 36682.0, 231: 36024.0, 232: 37124.0, 233: 36526.0, 234: 36988.0, 235: 36790.0, 236: 37468.0, 237: 36948.0, 238: 37230.0, 239: 36216.0, 240: 37206.0, 241: 35604.0, 242: 35838.0, 243: 36158.0, 244: 35314.0, 245: 34338.0, 246: 34578.0, 247: 36322.0, 248: 35028.0, 249: 35312.0, 250: 35606.0, 251: 35360.0, 252: 34350.0, 253: 34786.0, 254: 34612.0, 255: 35042.0, 256: 34526.0, 257: 34262.0, 258: 34576.0, 259: 33098.0, 260: 35076.0, 261: 32558.0, 262: 35000.0, 263: 34116.0, 264: 33274.0, 265: 34894.0, 266: 33922.0, 267: 32782.0, 268: 33030.0, 269: 32730.0, 270: 34028.0, 271: 32944.0, 272: 34326.0, 273: 32840.0, 274: 35082.0, 275: 32688.0, 276: 33112.0, 277: 31844.0, 278: 32106.0, 279: 32430.0, 280: 32268.0, 281: 33166.0, 282: 32932.0, 283: 32610.0, 284: 34326.0, 285: 35054.0, 286: 32640.0, 287: 31724.0, 288: 32634.0, 289: 32902.0, 290: 31224.0, 291: 32290.0, 292: 31954.0, 293: 31168.0, 294: 31530.0, 295: 30622.0, 296: 32108.0, 297: 30438.0, 298: 31276.0, 299: 32288.0, 300: 29822.0, 301: 30976.0, 302: 31416.0, 303: 30848.0, 304: 29570.0, 305: 31498.0, 306: 31152.0, 307: 30490.0, 308: 30982.0, 309: 31522.0, 310: 30208.0, 311: 30760.0, 312: 29880.0, 313: 30662.0, 314: 30494.0, 315: 30152.0, 316: 29376.0, 317: 29432.0, 318: 30130.0, 319: 29204.0, 320: 30352.0, 321: 28240.0, 322: 29576.0, 323: 29874.0, 324: 29544.0, 325: 28526.0, 326: 29540.0, 327: 28990.0, 328: 29322.0, 329: 27858.0, 330: 29166.0, 331: 28392.0, 332: 27460.0, 333: 27334.0, 334: 29374.0, 335: 28196.0, 336: 28528.0, 337: 28544.0, 338: 26944.0, 339: 27504.0, 340: 27284.0, 341: 27442.0, 342: 26040.0, 343: 27298.0, 344: 27510.0, 345: 27572.0, 346: 26932.0, 347: 26732.0, 348: 27306.0, 349: 27340.0, 350: 26724.0, 351: 27202.0, 352: 26956.0, 353: 27202.0, 354: 27184.0, 355: 26830.0, 356: 25836.0, 357: 27718.0, 358: 27114.0, 359: 25176.0, 360: 26966.0, 361: 27294.0, 362: 26084.0, 363: 26548.0, 364: 26274.0, 365: 24900.0, 366: 26694.0, 367: 25916.0, 368: 24976.0, 369: 24998.0, 370: 26732.0, 371: 25190.0, 372: 24886.0, 373: 26010.0, 374: 26412.0, 375: 24394.0, 376: 25264.0, 377: 24472.0, 378: 24424.0, 379: 26108.0, 380: 23952.0, 381: 25134.0, 382: 24420.0, 383: 23882.0, 384: 23528.0, 385: 24684.0, 386: 25436.0, 387: 24382.0, 388: 23818.0, 389: 24128.0, 390: 25120.0, 391: 24594.0, 392: 23624.0, 393: 23980.0, 394: 23528.0, 395: 23318.0, 396: 22998.0, 397: 23600.0, 398: 22856.0, 399: 23066.0, 400: 22964.0, 401: 23552.0, 402: 23738.0, 403: 22674.0, 404: 23904.0, 405: 22068.0, 406: 22624.0, 407: 22864.0, 408: 23014.0, 409: 21992.0, 410: 22754.0, 411: 22212.0, 412: 21726.0, 413: 21742.0, 414: 21794.0, 415: 22212.0, 416: 21560.0, 417: 21432.0, 418: 21838.0, 419: 21590.0, 420: 20938.0, 421: 22362.0, 422: 20794.0, 423: 20050.0, 424: 21678.0, 425: 21292.0, 426: 21576.0, 427: 21066.0, 428: 21182.0, 429: 20924.0, 430: 20886.0, 431: 19950.0, 432: 20440.0, 433: 19902.0, 434: 20168.0, 435: 20150.0, 436: 19964.0, 437: 19332.0, 438: 20130.0, 439: 19678.0, 440: 19846.0, 441: 19290.0, 442: 19768.0, 443: 18692.0, 444: 19540.0, 445: 19084.0, 446: 19254.0, 447: 18752.0, 448: 18928.0, 449: 19088.0, 450: 18732.0, 451: 19612.0, 452: 18660.0, 453: 18114.0, 454: 17692.0, 455: 18736.0, 456: 17946.0, 457: 18608.0, 458: 18202.0, 459: 18032.0, 460: 18992.0, 461: 17616.0, 462: 18526.0, 463: 18142.0, 464: 18100.0, 465: 17296.0, 466: 18020.0, 467: 17720.0, 468: 16936.0, 469: 17068.0, 470: 17006.0, 471: 17410.0, 472: 16986.0, 473: 17952.0, 474: 17052.0, 475: 17304.0, 476: 16512.0, 477: 17098.0, 478: 17086.0, 479: 16744.0, 480: 16594.0, 481: 16324.0, 482: 16536.0, 483: 17356.0, 484: 16364.0, 485: 16170.0, 486: 16848.0, 487: 16266.0, 488: 16392.0, 489: 16310.0, 490: 15902.0, 491: 16262.0, 492: 15790.0, 493: 15730.0, 494: 15948.0, 495: 16364.0, 496: 15478.0, 497: 15820.0, 498: 15592.0, 499: 15694.0} 
#pattern = r"(\d+): ([\d.,]+)"
#matches = re.findall(pattern, log_data)

epochs = list(log_data.keys())
losses = list(log_data.values())

# Creazione del grafico
fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(epochs, losses, marker='o', linestyle='-', color='b')

# Aggiungi etichette e titolo
fig.suptitle(r'Loss function per $\alpha = 0.05$', fontsize=14, fontweight='bold') # Titolo con la lettera greca alpha
ax.grid(True)

# Imposta i tick sull'asse X ogni 25 epoche
ax.set_xticks(range(0, 501, 25)) 

# Imposta le etichette degli assi
ax.set_xlabel('Epochs')  # Etichetta asse X
ax.set_ylabel('Loss')    # Etichetta asse Y
#plt.show()
plt.savefig('figures/w2v_loss_plot-20241001_021349.png')