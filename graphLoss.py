import re
import matplotlib.pyplot as plt

#questo po essere sostituito dalla lettura di un file
log_data = {1: 91864.4375, 2: 79898.640625, 3: 80940.0625, 4: 65872.9375, 5: 62494.3125, 6: 57124.25, 7: 54341.625, 8: 57838.9375, 9: 43327.625, 10: 39290.75, 11: 43230.4375, 12: 41729.8125, 13: 34829.5, 14: 38475.0, 15: 37156.3125, 16: 31821.625, 17: 35511.5625, 18: 40274.375, 19: 27860.625, 20: 29004.875, 21: 19239.625, 22: 33084.0, 23: 22917.25, 24: 32848.125, 25: 26704.25, 26: 36675.625, 27: 31649.25, 28: 26254.75, 29: 26869.875, 30: 30362.375, 31: 25557.0, 32: 24941.625, 33: 26241.875, 34: 29220.0, 35: 24339.25, 36: 26974.75, 37: 23869.5, 38: 22677.25, 39: 18833.0, 40: 21792.75, 41: 26027.5, 42: 18970.125, 43: 28793.75, 44: 27680.625, 45: 24721.25, 46: 23883.875, 47: 17353.625, 48: 22487.25, 49: 16596.375, 50: 22907.125, 51: 18483.125, 52: 17820.875, 53: 15621.875, 54: 20828.5, 55: 25898.75, 56: 14249.625, 57: 22031.125, 58: 19410.625, 59: 18392.75, 60: 16963.5, 61: 18712.0, 62: 15671.75, 63: 17644.0, 64: 17771.0, 65: 17262.0, 66: 12434.0, 67: 18711.25, 68: 18237.0, 69: 15834.25, 70: 14860.5, 71: 15612.25, 72: 15306.25, 73: 12651.25, 74: 13085.0, 75: 14480.0, 76: 8380.0, 77: 13553.0, 78: 13847.5, 79: 13837.0, 80: 13324.0, 81: 9778.0, 82: 15219.75, 83: 14604.25, 84: 15356.5, 85: 11204.0, 86: 10555.25, 87: 8881.75, 88: 10172.75, 89: 12004.0, 90: 9024.5, 91: 11846.5, 92: 8038.0, 93: 9803.75, 94: 9979.25, 95: 11354.5, 96: 9768.0, 97: 10475.75, 98: 11079.25, 99: 9138.0, 100: 9390.0, 101: 9093.75, 102: 11847.5, 103: 8913.25, 104: 8732.0, 105: 8907.75, 106: 9784.75, 107: 8266.0, 108: 8253.75, 109: 6736.0, 110: 6580.0, 111: 10820.5, 112: 9056.5, 113: 8026.25, 114: 8098.5, 115: 9290.0, 116: 7741.0, 117: 7831.75, 118: 7383.5, 119: 9927.75, 120: 8963.75, 121: 7461.75, 122: 8500.5, 123: 7416.0, 124: 7097.25, 125: 8562.25, 126: 8202.5, 127: 7036.75, 128: 7142.5, 129: 8104.75, 130: 8287.0, 131: 9380.0, 132: 7986.75, 133: 9958.5, 134: 7905.25, 135: 7869.75, 136: 5294.75, 137: 7500.5, 138: 6139.25, 139: 6401.25, 140: 7597.0, 141: 7040.25, 142: 5200.75, 143: 8540.75, 144: 7385.0, 145: 7551.75, 146: 7121.25, 147: 7116.5, 148: 7168.0, 149: 6163.5, 150: 6950.25, 151: 6883.5, 152: 6092.5, 153: 6886.25, 154: 7835.5, 155: 5789.75, 156: 6902.75, 157: 7545.75, 158: 7483.75, 159: 6949.0, 160: 4534.75, 161: 6586.5, 162: 5752.0, 163: 6596.5, 164: 5631.0, 165: 5721.25, 166: 5437.75, 167: 6470.0, 168: 5181.25, 169: 5976.25, 170: 5592.75, 171: 5418.0, 172: 6247.0, 173: 5288.25, 174: 5354.75, 175: 5435.5, 176: 7216.25, 177: 6054.0, 178: 5064.25, 179: 4928.75, 180: 5792.5, 181: 6783.75, 182: 6140.0, 183: 6035.5, 184: 5959.75, 185: 7335.5, 186: 5545.5, 187: 5449.5, 188: 4632.0, 189: 5449.0, 190: 5605.75, 191: 4043.75, 192: 6462.75, 193: 5632.5, 194: 5763.25, 195: 5640.25, 196: 4907.0, 197: 4577.25, 198: 6205.0, 199: 6169.25, 200: 5358.0, 201: 4643.0, 202: 5290.25, 203: 4773.5, 204: 5304.25, 205: 5561.25, 206: 5879.0, 207: 5970.75, 208: 5617.5, 209: 5167.5, 210: 3754.0, 211: 4784.25, 212: 3377.75, 213: 4926.75, 214: 5060.0, 215: 4262.25, 216: 5096.75, 217: 4277.25, 218: 5137.5, 219: 4339.25, 220: 5821.75, 221: 3667.0, 222: 4816.75, 223: 4169.75, 224: 3428.0, 225: 5726.5, 226: 2720.75, 227: 5583.5, 228: 4168.5, 229: 4214.0, 230: 4324.25, 231: 4576.75, 232: 5484.75, 233: 3381.5, 234: 4014.75, 235: 4142.5, 236: 5483.75, 237: 5891.25, 238: 4647.5, 239: 4187.25, 240: 5003.75, 241: 5059.25, 242: 4612.25, 243: 4453.25, 244: 4128.5, 245: 4401.5, 246: 4646.75, 247: 4551.75, 248: 2487.25, 249: 4003.0, 250: 4052.75, 251: 4030.75, 252: 3913.5, 253: 4603.75, 254: 3106.25, 255: 4820.0, 256: 3042.75, 257: 4411.5, 258: 2949.0, 259: 3785.75, 260: 3724.25, 261: 4474.25, 262: 4261.5, 263: 4392.0, 264: 3603.75, 265: 4189.25, 266: 3051.75, 267: 4848.5, 268: 4253.75, 269: 3693.75, 270: 4048.5, 271: 3570.75, 272: 3050.0, 273: 4174.5, 274: 2944.75, 275: 4443.0, 276: 3554.25, 277: 4102.75, 278: 4382.75, 279: 4294.75, 280: 4181.25, 281: 3553.25, 282: 3276.75, 283: 4639.25, 284: 4134.75, 285: 4111.75, 286: 4029.25, 287: 4143.25, 288: 4142.25, 289: 4129.25, 290: 2805.5, 291: 3469.0, 292: 4196.5, 293: 4188.0, 294: 3572.0, 295: 3921.25, 296: 3923.5, 297: 4648.25, 298: 3955.5, 299: 3633.25, 300: 3359.75, 301: 2247.5, 302: 3686.25, 303: 3291.25, 304: 4330.5, 305: 2759.0, 306: 3911.5, 307: 3515.5, 308: 3832.75, 309: 3412.5, 310: 3382.0, 311: 4166.5, 312: 3238.75, 313: 4092.75, 314: 4459.0, 315: 3704.5, 316: 3276.5, 317: 4130.25, 318: 3737.25, 319: 3550.0, 320: 3696.25, 321: 3901.25, 322: 3047.75, 323: 2649.25, 324: 3097.25, 325: 3685.25, 326: 3581.5, 327: 3249.25, 328: 4244.25, 329: 2931.0, 330: 3735.0, 331: 3113.5, 332: 2999.25, 333: 3689.25, 334: 3418.75, 335: 3607.25, 336: 2993.25, 337: 3739.75, 338: 3112.25, 339: 3086.25, 340: 3057.0, 341: 3594.25, 342: 2655.25, 343: 3020.0, 344: 3432.75, 345: 3106.75, 346: 3782.25, 347: 3205.0, 348: 3037.75, 349: 3334.5, 350: 2583.5, 351: 4344.5, 352: 3039.5, 353: 2786.25, 354: 2845.5, 355: 2864.25, 356: 2759.25, 357: 2970.0, 358: 3538.0, 359: 3108.0, 360: 3101.75, 361: 3280.75, 362: 3921.25, 363: 2970.0, 364: 3616.5, 365: 2799.75, 366: 3444.5, 367: 2759.5, 368: 2919.25, 369: 3293.75, 370: 4279.5, 371: 3579.5, 372: 3290.0, 373: 2895.25, 374: 3927.5, 375: 4274.5, 376: 3823.25, 377: 3352.5, 378: 3164.5, 379: 3818.5, 380: 3092.5, 381: 3195.75, 382: 3464.5, 383: 3728.25, 384: 3584.0, 385: 3139.0, 386: 3375.25, 387: 2970.75, 388: 3539.75, 389: 3122.5, 390: 3201.0, 391: 2688.75, 392: 2025.25, 393: 2857.5, 394: 3090.5, 395: 3046.5, 396: 3092.5, 397: 3108.75, 398: 3225.5, 399: 2669.0, 400: 2540.25, 401: 2135.25, 402: 2755.75, 403: 3155.5, 404: 3106.25, 405: 3093.25, 406: 2994.5, 407: 3181.25, 408: 2601.0, 409: 2475.75, 410: 2172.75, 411: 3054.0, 412: 2175.75, 413: 2780.5, 414: 3002.75, 415: 2900.0, 416: 2907.5, 417: 2952.25, 418: 2530.25, 419: 2703.75, 420: 2568.0, 421: 2329.0, 422: 3427.25, 423: 2804.0, 424: 2397.0, 425: 2045.5, 426: 3287.25, 427: 2393.75, 428: 2919.0, 429: 2710.0, 430: 2745.0, 431: 1993.0, 432: 2258.25, 433: 1825.0, 434: 2728.0, 435: 2653.25, 436: 2361.75, 437: 2281.75, 438: 2822.25, 439: 2976.75, 440: 2311.75, 441: 2729.25, 442: 2401.75, 443: 2775.25, 444: 2231.5, 445: 2676.5, 446: 2942.5, 447: 1807.0, 448: 2121.5, 449: 2624.5, 450: 2013.5, 451: 1734.5, 452: 2123.5, 453: 2662.0, 454: 2862.0, 455: 2122.5, 456: 2776.5, 457: 2046.0, 458: 2185.0, 459: 1880.0, 460: 2494.0, 461: 2387.0, 462: 2016.0, 463: 1851.0, 464: 2346.5, 465: 2131.5, 466: 2406.0, 467: 2266.5, 468: 1641.5, 469: 1932.5, 470: 2317.5, 471: 1262.5, 472: 2481.0, 473: 2210.5, 474: 2446.5, 475: 2146.5, 476: 2174.5, 477: 1993.0, 478: 1612.0, 479: 1899.5, 480: 2187.5, 481: 2109.0, 482: 2215.0, 483: 1770.5, 484: 1719.0, 485: 2057.0, 486: 1599.5, 487: 1532.5, 488: 1855.0, 489: 2268.5, 490: 2286.0, 491: 1889.0, 492: 1707.0, 493: 1914.0, 494: 1412.0, 495: 2104.0, 496: 1916.0, 497: 1535.0, 498: 1505.5, 499: 1670.5}
#pattern = r"(\d+): ([\d.,]+)"
#matches = re.findall(pattern, log_data)

epochs = list(log_data.keys())
losses = list(log_data.values())

# Creazione del grafico
fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(epochs, losses, marker='o', linestyle='-', color='b')

# Aggiungi etichette e titolo
fig.suptitle(r'Loss function per $\alpha = 0.05$', fontsize=14, fontweight='bold') # Titolo con la lettera greca alpha
ax.grid(True)

# Imposta i tick sull'asse X ogni 10 epoche
ax.set_xticks(range(0, 501, 25))  # Mostra solo i numeri da 0 a 100 con step di 10

# Imposta le etichette degli assi
ax.set_xlabel('Epochs')  # Etichetta asse X
ax.set_ylabel('Loss')    # Etichetta asse Y
#plt.show()
plt.savefig('figures/w2v_loss_plot2.png')