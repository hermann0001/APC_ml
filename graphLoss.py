import re
import matplotlib.pyplot as plt

#questo po essere sostituito dalla lettura di un file
log_data = {0: 42154.28515625, 1: 42438.16015625, 2: 41898.90625, 3: 42399.6796875, 4: 42318.171875, 5: 42300.40625, 6: 42904.703125, 7: 42723.9375, 8: 42930.9375, 9: 42987.0, 10: 43090.5, 
            11: 42844.6875, 12: 41749.75, 13: 40953.0, 14: 41237.625, 15: 41216.3125, 16: 40734.375, 17: 41052.0, 18: 41217.0, 19: 41146.875, 20: 41192.25, 
            21: 40779.0625, 22: 40981.875, 23: 40928.25, 24: 40734.375, 25: 44658.125, 26: 44995.5, 27: 44796.375, 28: 44640.0, 29: 44914.5, 30: 44520.625, 
            31: 44964.0, 32: 44410.5, 33: 44905.5, 34: 44986.5, 35: 45000.0, 36: 44968.5, 37: 44977.5, 38: 44671.5, 39: 44977.5, 40: 44887.5, 
            41: 44714.0, 42: 44778.5, 43: 44743.5, 44: 44711.875, 45: 44216.125, 46: 44242.25, 47: 44878.5, 48: 44973.25, 49: 44721.5, 50: 44460.75, 
            51: 43599.75, 52: 42915.25, 53: 40900.0, 54: 38372.75, 55: 35350.5, 56: 33821.0, 57: 34183.0, 58: 34098.5, 59: 34442.0, 60: 34597.25, 
            61: 34356.75, 62: 33797.75, 63: 33300.75, 64: 32800.0, 65: 31830.75, 66: 31097.75, 67: 30264.0, 68: 29085.75, 69: 28225.0, 70: 28021.25, 
            71: 27716.25, 72: 27778.5, 73: 27679.5, 74: 27930.5, 75: 27744.25, 76: 27695.25, 77: 27916.5, 78: 27945.25, 79: 28132.25, 80: 28065.25,
              81: 28148.25, 82: 28059.5, 83: 28278.75, 84: 28263.5, 85: 28226.0, 86: 28200.0, 87: 28424.0, 88: 28475.75, 89: 28338.25, 90: 28523.5, 
              91: 28480.5, 92: 28414.75, 93: 28597.75, 94: 28435.25, 95: 28635.5, 96: 28343.0, 97: 28590.75, 98: 28516.25, 99: 28597.5}

#pattern = r"(\d+): ([\d.,]+)"
#matches = re.findall(pattern, log_data)

epochs = list(log_data.keys())
losses = list(log_data.values())

# Creazione del grafico
fig, ax = plt.subplots(figsize=(10, 6))
ax.plot(epochs, losses, marker='o', linestyle='-', color='b')

# Aggiungi etichette e titolo
fig.suptitle(r'Loss function per $\alpha = 0.1$', fontsize=14, fontweight='bold') # Titolo con la lettera greca alpha
ax.grid(True)

# Imposta i tick sull'asse X ogni 10 epoche
ax.set_xticks(range(0, 101, 10))  # Mostra solo i numeri da 0 a 100 con step di 10

# Imposta le etichette degli assi
ax.set_xlabel('EPOCHS')  # Etichetta asse X
ax.set_ylabel('LOSS')    # Etichetta asse Y
#plt.show()
plt.savefig('figures/w2v_loss_plot2.png')